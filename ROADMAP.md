# Roadmap

Цели развития проекта (Ariadne + FastAPI):

Короткая перспектива (1–2 недели)
- Добавить JWT-авторизацию: логин, middleware, роль/доступ.
- Перейти с InMemory на БД: SQLite → PostgreSQL, слой DAO/репозитория.
- Валидация входных данных: pydantic-модели на уровне резолверов.
- Пагинация и фильтры для `users`/`posts`, единый формат ошибок.
- Тесты: `pytest` (unit/интеграция), фикстуры для БД.
- CI: GitHub Actions (Python 3.13), установка deps, запуск тестов.

Средняя перспектива (3–6 недель)
- Подписки (Subscriptions) через WebSocket: новые посты/события.
- Документация схемы: автогенерация описаний, примеры запросов.
- Контейнеризация: `Dockerfile`, compose для БД и сервера.
- Наблюдаемость: структурированный логгер, метрики `/metrics` (Prometheus), трассировка.
- Кэширование: Redis для популярных запросов и rate-limit (если нужно).
- Миграции БД: Alembic, стратегия версионирования схемы.

Дальняя перспектива (6+ недель)
- RBAC/ABAC: роли, права на мутации, проверка в резолверах.
- Многоарендность (multi-tenant) и шардирование, если объемы растут.
- Производительность: профилирование, оптимизация N+1, батчинг резолверов.
- API-стабильность: семантические версии, депрекация полей/типов.
- Интеграции: внешние сервисы, вебхуки, очереди (RabbitMQ/Kafka).

Технические заметки
- Ariadne: использовать SDL+резолверы, развести схему и бизнес-логику.
- Слои: `schema` (SDL/резолверы) → `services` → `repos` → `db`.
- Ошибки: единый формат GraphQL ошибок, маппинг исключений.
- Безопасность: CORS, headers, ограничение размера запросов, защита Playground.